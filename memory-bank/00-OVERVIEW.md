# ОБЩЕЕ ОПИСАНИЕ ПРОЕКТА

Система управления сессиями пользователей через Telegram админ-панель с использованием WebSockets (Laravel Reverb) для real-time коммуникации между веб-формой, бэкендом и Telegram ботом.

## Технологический стек:
- Laravel 12
- Laravel Reverb (WebSockets)
- Nutgram (Telegram Bot)
- MySQL
- WebSocket для real-time коммуникации

## Принципы разработки:
Проект должен следовать следующим принципам:
- **SOLID** - принципы объектно-ориентированного программирования
- **KISS** (Keep It Simple, Stupid) - простота решения
- **DRY** (Don't Repeat Yourself) - избегание дублирования кода
- **DDD** (Domain-Driven Design) - доменно-ориентированное проектирование
- **TDD** (Test-Driven Development) - разработка через тестирование
- **DI** (Dependency Injection) - внедрение зависимостей

## Основной поток работы:

1. Пользователь заходит на `/` → создается сессия
2. Пользователь вводит телефон/ID → данные сохраняются в сессию
3. В Telegram админу приходит сообщение с данными сессии и кнопками действий
4. Админ выбирает действие → пользователя редиректит на соответствующую форму
5. Пользователь заполняет форму → данные сохраняются в БД
6. Сообщение в Telegram обновляется с новыми данными
7. Процесс повторяется или завершается

## Структура файлов:

### Существующие файлы:
- `resources/views/index.blade.php` (строки 2403-2501) — форма ввода телефона/ID
- `resources/views/shablonpodformi.blade.php` (строки 1029-1342) — шаблон для форм
- `app/Telegram/TelegramBot.php` — базовый класс бота
- `routes/console.php` — команда `telegram:polling`

### Файлы для создания:
- Миграции БД
- Модели (Session, Admin, SessionHistory)
- **Actions** - бизнес-логика в отдельных классах
- **DTOs** - объекты передачи данных
- **Services** - сервисы для сложной логики
- **Events** - события приложения
- **Listeners** - обработчики событий
- **Observers** - наблюдатели за моделями
- **Requests** - валидация запросов
- **Resources** - форматирование ответов API
- Контроллеры (SessionController, AdminController, FormController)
- Handlers для Telegram бота
- Роуты для API и форм

**Подробнее см. [10-ARCHITECTURE.md](10-ARCHITECTURE.md)**
